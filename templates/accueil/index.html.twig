{% extends 'base.html.twig' %}

{% block title %}Accueil - Location et Vente de Films{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/accueil.css') }}">
{% endblock %}

{% block body %}

<!-- Hero Section -->
<section class="hero">
    <div class="hero-overlay"></div>
    <div class="hero-content">
        <h1 class="hero-title">DÃ©couvrez Notre Collection de Films</h1>
        <p class="hero-subtitle">Location et vente de DVD, Blu-ray et 4K Ultra HD</p>
        <div class="hero-cta">
            <a href="{{ path('app_catalogue') }}" class="btn-primary">DÃ©couvrir le catalogue</a>
            <a href="#nouveautes" class="btn-secondary">Voir les nouveautÃ©s</a>
        </div>
    </div>
</section>

<!-- Offres SpÃ©ciales -->
<section class="offres-speciales">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">ðŸ”¥ Offres SpÃ©ciales</h2>
            <p class="section-subtitle">Profitez de nos promotions exceptionnelles</p>
        </div>
        
        <div class="offres-grid">
            <div class="offre-card promo-highlight">
                <div class="offre-badge">-30%</div>
                <div class="offre-icon">ðŸŽ¬</div>
                <h3>Promo du Week-end</h3>
                <p>Tous les films du catalogue Ã  -30%</p>
            </div>
            
            <div class="offre-card">
                <div class="offre-badge">-10%</div>
                <div class="offre-icon">ðŸŽ¬</div>
                <h3>Promo du Lundi</h3>
                <p>Tous les films du catalogue Ã  -10%</p>
            </div>
            
            <div class="offre-card">
                <div class="offre-badge">-20%</div>
                <div class="offre-icon">ðŸŽ¬</div>
                <h3>Promo du Mardi</h3>
                <p>Tous les films du catalogue Ã  -20%</p>
            </div>
        </div>
    </div>
</section>

<!-- NouveautÃ©s -->
<section class="nouveautes" id="nouveautes">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">NouveautÃ©s</h2>
            <p class="section-subtitle">Les derniÃ¨res sorties DVD, Blu-ray et 4K</p>
        </div>
        
        {% if films %}
        <div class="films-grid-accueil">
            {% for film in films %}
                    <div onclick="window.location.href = '{{ path('detailsFilm', { 'id': film.id }) }}'" class="film-card" style="cursor: pointer;">
                        {% if tauxPromo > 0 %}
                            {# Promotion globale pour toute la boutique #}
                            {% set prixPromo = film.prixLocation * (1 - tauxPromo / 100) %}
                            <div class="film-promo-badge">-{{ tauxPromo|round }}%</div>
                            <div class="film-price-badge promo">
                                <span class="prix-original">{{ film.prixLocation }}â‚¬</span>
                                <span class="prix-promo">{{ prixPromo|number_format(2, '.', '') }}â‚¬</span>
                            </div>
                        {% else %}
                            {# Pas de promotion aujourd'hui #}
                            <div class="film-price-badge">{{ film.prixLocation }} â‚¬</div>
                        {% endif %}
                        
                        <img src="{{ asset('uploads/affiches/' ~ film.affiche) }}" alt="{{ film.titre }}">
                        <div class="film-info">
                        <div class="film-title-price">
                            <h2>{{ film.titre }}</h2>
                        </div>
                        <div class="film-meta">
                            <span>{{ film.annee }}</span>
                            <span class="dot">â€¢</span>
                            {% set genresList = film.genres|split(',') %}
                            {% for genre in genresList %}
                                <span class="genre-tag">{{ genre|trim }}</span>
                            {% endfor %}
                        </div>
                        </div>
                    </div>  
                {% endfor %}
        </div>
        {% endif %}
        
        <div class="section-footer">
            <a href="{{ path('app_catalogue') }}" class="btn-voir-plus">Voir tout le catalogue â†’</a>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Ã€ propos</h4>
                <ul>
                    <li><a href="#">Qui sommes-nous ?</a></li>
                    <li><a href="#">Notre catalogue</a></li>
                    <li><a href="#">Nos engagements</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Informations</h4>
                <ul>
                    <li><a href="#">Livraison</a></li>
                    <li><a href="#">Retours</a></li>
                    <li><a href="#">Modes de paiement</a></li>
                    <li><a href="#">FAQ</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>LÃ©gal</h4>
                <ul>
                    <li><a href="#">CGV</a></li>
                    <li><a href="#">Mentions lÃ©gales</a></li>
                    <li><a href="#">Politique de confidentialitÃ©</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Contact</h4>
                <ul>
                    <li><a href="#">Nous contacter</a></li>
                    <li><a href="#">Service client</a></li>
                    <li> Contact@projetweb.fr</li>
                    <li>ðŸ“ž 01 23 45 67 89</li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 ProjetWeb - Tous droits rÃ©servÃ©s</p>
            <div class="footer-payment">
                <span>Paiement sÃ©curisÃ© :</span>
                Visa â€¢ Mastercard â€¢ PayPal
            </div>
        </div>
    </div>
</footer>

{% endblock %}
